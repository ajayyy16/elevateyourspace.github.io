<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop</title>
    <link rel="stylesheet" href="/style/shop.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap">
    <style>
        body {
  margin: 0;
  font-family: Arial, sans-serif;
}

/* Navbar Styling */
.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: #ffffff;
  padding: 15px 20px;
}

.logo {
  color: rgb(0, 0, 0);
  font-size: 20px;
  font-weight: bold;
}

.navbar-links {
  list-style: none;
  display: flex;
  padding: 0;
  margin: 0;
}

.navbar-links li {
  margin: 0 15px;
}

.navbar-links a {
  text-decoration: none;
  color: rgb(0, 0, 0);
  font-size: 18px;
  transition: color 0.3s ease-in-out;
}

.navbar-links a:hover {
  color: #f8b400;
}

/* Hamburger Menu */
.hamburger-menu {
  display: none;
  background: none;
  border: none;
  font-size: 24px;
  color: rgb(0, 0, 0);
  cursor: pointer;
}

/* Responsive Design */
@media (max-width: 768px) {
  .navbar-links {
      display: none;
      flex-direction: column;
      position: absolute;
      top: 60px;
      left: 0;
      width: 100%;
      background: #333;
      text-align: center;
      padding: 15px 0;
  }

  .navbar-links.active {
      display: flex;
  }

  .navbar-links li {
      margin: 10px 0;
  }

  .hamburger-menu {
      display: block;
  }
}

    body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 20px;
  background-color: #f4f4f4;
}

h1 {
  text-align: center;
  color: #333;
}

.product-slider {
  overflow-x: auto; /* Enable horizontal scrolling */
  white-space: nowrap; /* Prevent line breaks */
}

#product-list {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 20px;
}

.product {
  background: white;
  border: 1px solid #ddd;
  border-radius: 5px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  margin: 10px;
  padding: 15px;
  width: 300px;
  text-align: center;
}

.product img {
  max-width: 100%;
  height: auto;
  border-radius: 5px;
}

.product:hover {
  transform: scale(1.01); /* Scale up on hover */
}

.product h2 {
  font-size: 1.5em;
  color: #333;
}

.product p {
  font-size: 1.2em;
  color: #666;
}

.buy-now {
  background-color: #28a745;
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1em;
}

.buy-now:hover {
  background-color: #28a745;
}

.add-to-cart {
  background-color: #28a745;
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1em;
}

.add-to-cart:hover {
  background-color: #218838;
}

#cart {
  background: white;
  border: 1px solid #ddd;
  border-radius: 5px;
  padding: 15px;
  margin-top: 20px;
}

#cart h2 {
  font-size: 1.5em;
  color: #333;
  text-align: center;
}

#cart-items {
  list-style-type: none;
  padding: 0;
}

#cart-items li {
  padding: 5px 0;
  border-bottom: 1px solid #ddd;
}

#total-price {
  font-size: 1.2em;
  font-weight: bold;
  color: #333;
  margin-top: 10px;
}

/* Style for the checkout button */
#checkout-button {
  background-color: #4CAF50; /* Green background */
  color: white; /* White text */
  border: none; /* No border */
  border-radius: 5px; /* Rounded corners */
  padding: 10px 20px; /* Padding */
  cursor: pointer; /* Pointer cursor on hover */
  font-size: 16px; /* Font size */
  margin-top: 10px; /* Space above the button */
}

#checkout-button:hover {
  background-color: #45a049; /* Darker green on hover */
}
        </style>
</head>
<body>
    <header>
        <nav class="navbar">
          <div class="logo">ElevateYourSpace</div>
          <ul class="navbar-links">
              <li><a href="../homepage/homepage.php">Home</a></li>
              <li><a href="./profile.php">Order</a></li>
              <li><a href="../homepage/about.html">About Us</a></li>
              <li><a href="../homepage/contact.html">Contact</a></li>
              <li><a href="../homepage/addtocart.html" class="cart-icon">
              <i class="fas fa-shopping-cart"></i></a></li>
          </ul>
          <button class="hamburger-menu" onclick="toggleNavbar()">☰</button>
      </nav>
      <script>
          function toggleNavbar() {
              document.querySelector('.navbar-links').classList.toggle('active');
          }
      </script>
      </header>
    <h1>Product Listings</h1>
    <div class="product-slider">
    <div id="product-list">
        <div class="product">
            <img src="../assets/images/modernsofa.jpg" alt="Modern Sofa">
            <h3>Modern Sofa</h3>
            <p>Rs 4,999</p>
            <button class="buy-now" data-product-id="1" data-product-name="Modern Sofa" data-product-price="4999">Buy Now</button>
            <button class="add-to-cart" data-product-id="1" data-product-name="Modern Sofa" data-product-price="4999">Add to Cart</button>
        </div>
        <div class="product">
            <img src="../assets/images/diningtable.jpg" alt="Wooden Dining Table">
            <h3>Wooden Dining Table</h3>
            <p>Rs 9,999</p>
            <button class="buy-now" data-product-id="2" data-product-name="Wooden Dining Table" data-product-price="9999">Buy Now</button>
            <button class="add-to-cart" data-product-id="2" data-product-name="Wooden Dining Table" data-product-price="9999">Add to Cart</button>
        </div>
        <div class="product">
            <img src="../assets/images/leatherarmchair.jpg" alt="Leather Armchair">
            <h3>Leather Armchair</h3>
            <p>Rs 20,000</p>
            <button class="buy-now" data-product-id="3" data-product-name="Leather Armchair" data-product-price="20000">Buy Now</button>
            <button class="add-to-cart" data-product-id="3" data-product-name="Leather Armchair" data-product-price="20000">Add to Cart</button>
        </div>
        <div class="product">
            <img src="../assets/images/coffeetable.jpg" alt="Modern Coffee Table">
            <h3>Modern Coffee Table</h3>
            <p>Rs 1,500</p>
            <button class="buy-now" data-product-id="4" data-product-name="Modern Coffee Table" data-product-price="1500">Buy Now</button>
            <button class="add-to-cart" data-product-id="4" data-product-name="Modern Coffee Table" data-product-price="1500">Add to Cart</button>
        </div>
        <div class="product">
            <img src="../assets/images/wardrobe.jpg" alt="Wardrobe">
            <h3>Wardrobe</h3>
            <p>Rs 16,999</p>
            <button class="buy-now" data-product-id="5" data-product-name="Wardrobe" data-product-price="16999">Buy Now</button>
            <button class="add-to-cart" data-product-id="5" data-product-name="Wardrobe" data-product-price="16999">Add to Cart</button>
        </div>
        <div class="product">
            <img src="../assets/images/tvunit.png" alt="TV Unit">
            <h3>TV Unit</h3>
            <p>Rs 12,999</p>
            <button class="buy-now" data-product-id="6" data-product-name="TV Unit" data-product-price="12999">Buy Now</button>
            <button class="add-to-cart" data-product-id="6" data-product-name="TV Unit" data-product-price="12999">Add to Cart</button>
        </div>
        <div class="product">
            <img src="../assets/images/armlesschair.png" alt="Armless Office Chair">
            <h3>Armless Office Chair</h3>
            <p>Rs 3,500</p>
            <button class="buy-now" data-product-id="7" data-product-name="Armless Office Chair" data-product-price="3500">Buy Now</button>
            <button class="add-to-cart" data-product-id="7" data-product-name="Armless Office Chair" data-product-price="3500">Add to Cart</button>
        </div>
    </div>
</div>

    <div id="cart">
        <h2>Shopping Cart</h2>
        <ul id="cart-items"></ul>
        <p id="total-price">Total: </p>
        <button id="checkout-button">Proceed to Checkout</button>
    </div>
    <script>
        // Load cart items on page load
        loadCart();
    
        // Add event listeners to all "Add to Cart" buttons
        document.querySelectorAll(".add-to-cart").forEach(button => {
    button.addEventListener("click", function() {
        const productId = this.getAttribute("data-product-id");
        const productName = this.getAttribute("data-product-name");
        const productPrice = parseFloat(this.getAttribute("data-product-price").replace(/[^\d.]/g, '')); // Remove non-numeric chars

        // Ensure the button is inside a product container
        const productContainer = this.closest(".product"); 
        const productImage = productContainer ? productContainer.querySelector("img")?.src : "placeholder.jpg"; // Default image

        if (!productId || !productName || isNaN(productPrice)) {
            console.error("Invalid product details!");
            return;
        }

        // Load existing cart from localStorage
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Check if the product already exists in the cart
        const existingProductIndex = cart.findIndex(item => item.id === productId);

        if (existingProductIndex > -1) {
            // If the product exists, increase the quantity
            cart[existingProductIndex].quantity += 1;
        } else {
            // If the product does not exist, add it with a quantity of 1
            cart.push({ 
                id: productId, 
                name: productName, 
                price: productPrice, 
                quantity: 1,
                image: productImage // ✅ Store product image
            });
        }

        // Save updated cart to localStorage
        localStorage.setItem('cart', JSON.stringify(cart));

        // Show pop-up message
        showPopup(`${productName} has been added to your cart!`);

        // Update the cart display
        loadCart();
    });
});


        
        document.querySelectorAll(".buy-now").forEach(button => {
        button.addEventListener("click", function() {
            const productId = this.getAttribute("data-product-id");
            const productName = this.getAttribute("data-product-name");
            const productPrice = this.getAttribute("data-product-price");

            // Store product details in sessionStorage for retrieval on the next page
            sessionStorage.setItem("buyNowProduct", JSON.stringify({
                id: productId,
                name: productName,
                price: productPrice,
                quantity: 1
            }));

            // Redirect to addtocart.html
            window.location.href = "addtocart.html";
        });
    });


        function loadCart() {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            const cartContainer = document.getElementById("cart-items");
            const totalPriceElement = document.getElementById("total-price");
            cartContainer.innerHTML = "";
            let total = 0;
    
            cart.forEach((product, index) => {
                total += product.price * product.quantity; // Calculate total price based on quantity
                let listItem = document.createElement("li");
                listItem.innerHTML = `${product.name} - Rs ${product.price} x ${product.quantity} 
                    <button class="remove-btn" onclick="removeFromCart(${index})">Remove</button>`;
                cartContainer.appendChild(listItem);
            });
    
            totalPriceElement.textContent = `Total: Rs ${total}`; // Display total price
        }
    
        function removeFromCart(index) {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            cart.splice(index, 1); // Remove the item at the specified index
            localStorage.setItem("cart", JSON.stringify(cart)); // Save the updated cart
            loadCart(); // Refresh the cart display
        }
    
        function showPopup(message) {
            // Implement your popup logic here
            alert(message); // Simple alert for demonstration
        }

        document.getElementById("checkout-button").addEventListener("click", function() {
        window.location.href = "addtocart.html"; // Redirect to addtocart.html
    });



    </script>
</body>

</html>

